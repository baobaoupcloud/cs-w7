<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.134.0">
    <meta name="description" content="Baobao">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Cơ sở dữ liệu quan hệ :: CS50</title>

    
    <link href="/css/nucleus.css?1728209755" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1728209755" rel="stylesheet">
    <link href="/css/hybrid.css?1728209755" rel="stylesheet">
    <link href="/css/featherlight.min.css?1728209755" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1728209755" rel="stylesheet">
    <link href="/css/auto-complete.css?1728209755" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1728209755" rel="stylesheet">
    <link href="/css/theme.css?1728209755" rel="stylesheet">
    <link href="/css/hugo-theme.css?1728209755" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1728209755" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1728209755"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/vi/2-relational-databases/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://baobaoupcloud.github.io/cs-w7/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1728209755"></script>
<script type="text/javascript" src="/js/auto-complete.js?1728209755"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/localhost:1313\/\/vi";
    
</script>
<script type="text/javascript" src="/js/search.js?1728209755"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/vi/1-flat-file-databases/" title="Cơ sở dữ liệu dạng Flat-File" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-flat-file-databases/">
           <b> 1. </b> Cơ sở dữ liệu dạng Flat-File
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/2-relational-databases/" title="Cơ sở dữ liệu quan hệ" class="dd-item 
        
        active
        
        ">
      <a href="/vi/2-relational-databases/">
           <b> 2. </b> Cơ sở dữ liệu quan hệ
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/3-sql-in-python/" title="SQL với Python" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-sql-in-python/">
           <b> 3. </b> SQL với Python
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/4-injection-attacks/" title="Tấn công SQL Injection" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-injection-attacks/">
           <b> 4. </b> Tấn công SQL Injection
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"><i class='fab fa-facebook'></i> AWS Study Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="//localhost:1313/2-relational-databases/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="//localhost:1313/vi/2-relational-databases/" selected>Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>06-10-2024</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i> <a href="https://www.linkedin.com/in/phan-kim-bao/"  style="color:orange">Phan Kim Bảo  </a> <br>

               
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://baobaoupcloud.github.io/cs/2-Relational-Databases/_index.vi.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/vi/'>CS50 Tuần 7</a> > Cơ sở dữ liệu quan hệ
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#cơ-sở-dữ-liệu-quan-hệ-relational-databases">Cơ sở dữ liệu quan hệ (Relational Databases)</a></li>
        <li><a href="#các-hoạt-động-chính-trong-cơ-sở-dữ-liệu-quan-hệ-crud">Các hoạt động chính trong cơ sở dữ liệu quan hệ: <code>CRUD</code></a></li>
        <li><a href="#các-lệnh-cơ-bản-để-truy-vấn-dữ-liệu">Các lệnh cơ bản để truy vấn dữ liệu</a></li>
        <li><a href="#các-lệnh-sql-nâng-cao">Các lệnh SQL nâng cao</a></li>
        <li><a href="#thêm-và-xóa-dữ-liệu-trong-cơ-sở-dữ-liệu">Thêm và xóa dữ liệu trong cơ sở dữ liệu</a></li>
        <li><a href="#ví-dụ">Ví dụ:</a></li>
        <li><a href="#các-kiểu-dữ-liệu-trong-sqlite">Các kiểu dữ liệu trong SQLite</a></li>
        <li><a href="#kết-hợp-bảng-với-join">Kết hợp bảng với <code>JOIN</code></a></li>
        <li><a href="#chỉ-mục">Chỉ mục</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Cơ sở dữ liệu quan hệ
            </h1>
          

        



	<h3 id="cơ-sở-dữ-liệu-quan-hệ-relational-databases">Cơ sở dữ liệu quan hệ (Relational Databases)</h3>
<p>Các công ty lớn như Google, Twitter, và Meta đều sử dụng <strong>cơ sở dữ liệu quan hệ</strong> để lưu trữ thông tin ở quy mô lớn. Cơ sở dữ liệu quan hệ lưu trữ dữ liệu dưới dạng các bảng (tables), mỗi bảng chứa các dòng và cột. Bạn có thể thao tác với dữ liệu này bằng ngôn ngữ truy vấn có cấu trúc SQL với bốn lệnh cơ bản: <code>Create</code>, <code>Read</code>, <code>Update</code>, và <code>Delete</code> - được gọi tắt là <code>CRUD</code>.</p>
<h3 id="các-hoạt-động-chính-trong-cơ-sở-dữ-liệu-quan-hệ-crud">Các hoạt động chính trong cơ sở dữ liệu quan hệ: <code>CRUD</code></h3>
<p>Các thao tác chính trong cơ sở dữ liệu quan hệ được gọi là <strong>CRUD</strong>, bao gồm:</p>
<ul>
<li><strong>Create</strong>: Tạo mới dữ liệu</li>
<li><strong>Read</strong>: Đọc dữ liệu</li>
<li><strong>Update</strong>: Cập nhật dữ liệu</li>
<li><strong>Delete</strong>: Xóa dữ liệu</li>
</ul>
<p>Chúng ta có thể tạo một cơ sở dữ liệu SQL bằng cách nhập lệnh <code>sqlite3 favorites.db</code> trên dòng lệnh. Khi được hỏi, bạn hãy nhấn <code>y</code> để xác nhận việc tạo cơ sở dữ liệu <code>favorites.db</code>. Sau khi xác nhận, bạn sẽ thấy giao diện của chương trình <code>sqlite3</code>. Để chuyển <code>sqlite3</code> sang chế độ CSV, gõ lệnh:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>.mode csv
</span></span></code></pre></div><p>Sau đó, bạn có thể nhập dữ liệu từ tập tin CSV bằng lệnh:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>.import favorites.csv favorites
</span></span></code></pre></div><p>Tuy bạn không thấy gì thay đổi, nhưng dữ liệu đã được thêm vào cơ sở dữ liệu. Để xem cấu trúc của cơ sở dữ liệu, bạn có thể dùng lệnh:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>.schema
</span></span></code></pre></div><h3 id="các-lệnh-cơ-bản-để-truy-vấn-dữ-liệu">Các lệnh cơ bản để truy vấn dữ liệu</h3>
<p>Bạn có thể đọc dữ liệu từ bảng bằng cú pháp:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">column</span> <span style="color:#66d9ef">FROM</span> <span style="color:#66d9ef">table</span>;
</span></span></code></pre></div><p>Ví dụ: lệnh sau sẽ duyệt qua từng dòng trong bảng <code>favorites</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> favorites;
</span></span></code></pre></div><p>Hoặc, để lấy một phần dữ liệu cụ thể hơn:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">language</span> <span style="color:#66d9ef">FROM</span> favorites;
</span></span></code></pre></div><p>SQL hỗ trợ nhiều lệnh để truy xuất dữ liệu, bao gồm:</p>
<ul>
<li><strong><code>AVG</code></strong>: Tính giá trị trung bình</li>
<li><strong><code>COUNT</code></strong>: Đếm số lượng</li>
<li><strong><code>DISTINCT</code></strong>: Lấy ra các giá trị duy nhất</li>
<li><strong><code>LOWER</code></strong>: Chuyển đổi chuỗi thành chữ thường</li>
<li><strong><code>MAX</code></strong>: Lấy giá trị lớn nhất</li>
<li><strong><code>MIN</code></strong>: Lấy giá trị nhỏ nhất</li>
<li><strong><code>UPPER</code></strong>: Chuyển đổi chuỗi thành chữ in hoa</li>
</ul>
<p>Ví dụ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">COUNT</span>(<span style="color:#66d9ef">language</span>) <span style="color:#66d9ef">FROM</span> favorites;
</span></span></code></pre></div><p>Lệnh này sẽ đếm số lần xuất hiện của mỗi ngôn ngữ trong bảng <code>favorites</code>. Bạn có thể sử dụng lệnh sau để đếm các ngôn ngữ riêng biệt:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">DISTINCT</span>(<span style="color:#66d9ef">language</span>) <span style="color:#66d9ef">FROM</span> favorites;
</span></span></code></pre></div><p>Để lấy tổng số lượng các ngôn ngữ riêng biệt, dùng lệnh:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">COUNT</span>(<span style="color:#66d9ef">DISTINCT</span>(<span style="color:#66d9ef">language</span>)) <span style="color:#66d9ef">FROM</span> favorites;
</span></span></code></pre></div><h3 id="các-lệnh-sql-nâng-cao">Các lệnh SQL nâng cao</h3>
<p>SQL cung cấp nhiều lệnh khác để tùy chỉnh truy vấn dữ liệu:</p>
<ul>
<li><strong><code>WHERE</code></strong>: Thêm điều kiện để lọc dữ liệu</li>
<li><strong><code>LIKE</code></strong>: Tìm kiếm các kết quả gần đúng</li>
<li><strong><code>ORDER BY</code></strong>: Sắp xếp kết quả</li>
<li><strong><code>LIMIT</code></strong>: Giới hạn số lượng kết quả</li>
<li><strong><code>GROUP BY</code></strong>: Nhóm các kết quả lại với nhau</li>
</ul>
<p>Để viết chú thích trong SQL, chúng ta dùng <code>--</code>.
Ngoài ra có các câu lệnh sau, để đếm số dòng có ngôn ngữ là <code>C</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">COUNT</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">FROM</span> favorites <span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">language</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;C&#39;</span>;
</span></span></code></pre></div><p>Bạn cũng có thể kết hợp nhiều điều kiện bằng lệnh <code>AND</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">COUNT</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">FROM</span> favorites <span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">language</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;C&#39;</span> <span style="color:#66d9ef">AND</span> problem <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Hello, World&#39;</span>;
</span></span></code></pre></div><p>Lệnh này sẽ đếm số lần xuất hiện của ngôn ngữ <code>C</code> với bài tập <code>Hello, World</code>.</p>
<h3 id="thêm-và-xóa-dữ-liệu-trong-cơ-sở-dữ-liệu">Thêm và xóa dữ liệu trong cơ sở dữ liệu</h3>
<p>Để thêm dữ liệu vào cơ sở dữ liệu:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> favorites (<span style="color:#66d9ef">language</span>, problem) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;SQL&#39;</span>, <span style="color:#e6db74">&#39;Fiftyville&#39;</span>);
</span></span></code></pre></div><p>Để xóa các dòng dữ liệu thỏa điều kiện:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">DELETE</span> <span style="color:#66d9ef">FROM</span> favorites <span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">Timestamp</span> <span style="color:#66d9ef">IS</span> <span style="color:#66d9ef">NULL</span>;
</span></span></code></pre></div><p>Bạn cũng có thể sử dụng lệnh <code>UPDATE</code> để cập nhật dữ liệu:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">UPDATE</span> favorites <span style="color:#66d9ef">SET</span> <span style="color:#66d9ef">language</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;SQL&#39;</span>, problem <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Fiftyville&#39;</span>;
</span></span></code></pre></div><p>Lệnh này sẽ thay thế toàn bộ giá trị hiện tại bằng giá trị mới trong các dòng thỏa mãn điều kiện.</p>
<h3 id="ví-dụ">Ví dụ:</h3>
<p>Xây dựng cơ sở dữ liệu cho các chương trình TV.
Hãy tưởng tượng rằng bạn muốn tạo một cơ sở dữ liệu để lưu trữ thông tin về các chương trình truyền hình. Bạn có thể tạo một bảng tính với các cột như <code>title</code> (tên chương trình), <code>star</code> (ngôi sao), và nhiều ngôi sao khác. Tuy nhiên, cách tiếp cận này có thể lãng phí không gian lưu trữ vì một số chương trình có rất ít diễn viên, trong khi số khác có rất nhiều.</p>
<p>Một cách tiếp cận tốt hơn là phân tách dữ liệu thành nhiều bảng. Ví dụ:</p>
<ul>
<li>Bảng <code>shows</code>: Chứa thông tin về các chương trình (với ID duy nhất cho mỗi chương trình).</li>
<li>Bảng <code>people</code>: Chứa thông tin về diễn viên (với ID duy nhất cho mỗi diễn viên).</li>
<li>Bảng <code>stars</code>: Liên kết các chương trình và diễn viên bằng cách sử dụng <code>show_id</code> và <code>person_id</code>.</li>
</ul>
<p>IMDb là một ví dụ tiêu biểu cho cách lưu trữ thông tin của các chương trình truyền hình và phim ảnh. Họ có một cơ sở dữ liệu bao gồm các bảng liên kết như: diễn viên, chương trình, biên kịch, thể loại, và xếp hạng. Mỗi bảng có mối liên hệ chặt chẽ với nhau.</p>
<p><img alt="shows" src="https://raw.githubusercontent.com/baobaoupcloud/cs-w7/main/static/images/2.relationaldatabase/relationaldatabase1.png"></p>
<p>Sau khi tải về tập tin <a href="https://github.com/cs50/lectures/blob/2022/fall/7/src7/imdb/shows.db">shows.db</a>, bạn có thể mở nó bằng lệnh:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sqlite3 shows.db
</span></span></code></pre></div><p>Quan hệ giữa bảng <code>shows</code> và <code>ratings</code> có mối quan hệ như sau:</p>
<p><img alt="shows" src="https://raw.githubusercontent.com/baobaoupcloud/cs-w7/main/static/images/2.relationaldatabase/relationaldatabase2.png"></p>
<p>Bạn có thể kiểm tra mối quan hệ giữa 2 bảng trên bằng cách nhập các lệnh như:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> ratings <span style="color:#66d9ef">LIMIT</span> <span style="color:#ae81ff">10</span>;
</span></span></code></pre></div><p>Hoặc:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> shows <span style="color:#66d9ef">LIMIT</span> <span style="color:#ae81ff">10</span>;
</span></span></code></pre></div><p>Lệnh <code>.schema</code> sẽ hiển thị cấu trúc của cơ sở dữ liệu, bao gồm các bảng và các trường trong từng bảng.</p>
<p>Mỗi bảng có một trường <code>id</code> duy nhất, gọi là <strong>primary key</strong> (khóa chính). Trường <code>show_id</code> trong bảng <code>genres</code> là <strong>foreign key</strong> (khóa ngoại) liên kết với trường <code>id</code> trong bảng <code>shows</code>. Khóa chính được sử dụng để định danh duy nhất một bản ghi trong bảng, trong khi khóa ngoại được sử dụng để liên kết dữ liệu giữa các bảng khác nhau.</p>
<h3 id="các-kiểu-dữ-liệu-trong-sqlite">Các kiểu dữ liệu trong SQLite</h3>
<p>SQLite hỗ trợ năm loại dữ liệu cơ bản:</p>
<ol>
<li><strong><code>BLOB</code></strong>: Lưu trữ dữ liệu nhị phân (hình ảnh, tệp tin).</li>
<li><strong><code>INTEGER</code></strong>: Số nguyên.</li>
<li><strong><code>NUMERIC</code></strong>: Số liệu với định dạng đặc biệt (ví dụ như ngày tháng).</li>
<li><strong><code>REAL</code></strong>: Số thực (float).</li>
<li><strong><code>TEXT</code></strong>: Chuỗi ký tự.</li>
</ol>
<p>Bạn có thể thêm các ràng buộc đặc biệt cho từng cột như:</p>
<ul>
<li><strong><code>NOT NULL</code></strong>: Cột không được phép để trống.</li>
<li><strong><code>UNIQUE</code></strong>: Giá trị của cột phải là duy nhất.</li>
</ul>
<p>Ví dụ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> stars <span style="color:#66d9ef">LIMIT</span> <span style="color:#ae81ff">10</span>;
</span></span></code></pre></div><hr>
<h3 id="kết-hợp-bảng-với-join">Kết hợp bảng với <code>JOIN</code></h3>
<p>Bạn có thể kết hợp hai hoặc nhiều bảng bằng cách sử dụng <code>JOIN</code>. Ví dụ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> shows
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">JOIN</span> ratings <span style="color:#66d9ef">ON</span> shows.id <span style="color:#f92672">=</span> ratings.show_id
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> rating <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">6</span>.<span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">LIMIT</span> <span style="color:#ae81ff">10</span>;
</span></span></code></pre></div><p>Lệnh trên kết hợp hai bảng <code>shows</code> và <code>ratings</code> để lấy các chương trình có xếp hạng từ 6.0 trở lên.</p>
<h3 id="chỉ-mục">Chỉ mục</h3>
<p>Chỉ mục (Index) giúp tăng tốc độ truy vấn bằng cách tạo ra các cấu trúc dữ liệu đặc biệt. Tạo chỉ mục cho cột <code>title</code> bằng lệnh:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> title_index <span style="color:#66d9ef">ON</span> shows (title);
</span></span></code></pre></div><p>Câu lệnh này yêu cầu sqlite3 tạo một chỉ mục và thực hiện một số tối ưu hóa đặc biệt liên quan đến cột title. Điều này tạo ra một cấu trúc dữ liệu gọi là B Tree, một cấu trúc dữ liệu có hình dạng tương tự như cây nhị phân. Tuy nhiên, khác với cây nhị phân, có thể có nhiều hơn hai nút con.</p>
<p>Sau khi tạo chỉ mục, truy vấn sẽ chạy nhanh hơn đáng kể:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> shows <span style="color:#66d9ef">WHERE</span> title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;The Office&#39;</span>;
</span></span></code></pre></div><p>Tuy nhiên, việc tạo chỉ mục cho tất cả các cột có thể tốn nhiều không gian lưu trữ, vì vậy bạn cần cân nhắc khi sử dụng.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/vi/1-flat-file-databases/" title="Cơ sở dữ liệu dạng Flat-File"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/vi/3-sql-in-python/" title="SQL với Python" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1728209755"></script>
    <script src="/js/perfect-scrollbar.min.js?1728209755"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1728209755"></script>
    <script src="/js/jquery.sticky.js?1728209755"></script>
    <script src="/js/featherlight.min.js?1728209755"></script>
    <script src="/js/highlight.pack.js?1728209755"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1728209755"></script>
    <script src="/js/learn.js?1728209755"></script>
    <script src="/js/hugo-learn.js?1728209755"></script>

    <link href="/mermaid/mermaid.css?1728209755" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1728209755"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
